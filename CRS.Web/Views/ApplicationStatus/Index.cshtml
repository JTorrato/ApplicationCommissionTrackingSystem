@*@using CRS.BusinessEntities*@
@{
	ViewBag.Title = "Application Status";
}

@section styles {
 <link href="@Url.Content("~/Content/themes/base/minified/jquery-ui.min.css")" rel="stylesheet" type="text/css" />
 <link href="@Url.Content("~/Content/Bootstrap/bootstrap.min.css")" rel="stylesheet" type="text/css" />
 <link href="@Url.Content("~/Content/Bootstrap/bootstrap-responsive.min.css")" rel="stylesheet" type="text/css" />
 <link href="@Url.Content("~/Content/Bootstrap/bootstrap-image-gallery.min.css")" rel="stylesheet" type="text/css" />
 <link href="@Url.Content("~/Content/FileUpload/jquery.fileupload-ui.css")" rel="stylesheet" type="text/css" />
 <link href= "@Url.Content("~/Content/ambience/jquery.ambiance.css")" rel="stylesheet" />
 <link href="@Url.Content("~/Content/ambience/demo.css")" rel="stylesheet" />
       <style type="text/css">
		#tblSearchFilter td {
			background-color: transparent;
			border: medium none !important;
			font-size: 14px;
			width: 200px;
		}
		
	   .contentHolder  .dataTables_filter  input {
			float: right;
			margin: 0 0 0 0 ;
		}
		.contentHolder .dataTables_filter label {
			float: none;
		}
		.compactRadioGroup LABEL,
		 .compactRadioGroup INPUT {
			display: inline !important;
			width: auto !important; 
			margin-right: 5px;  
			margin-left: 5px;   
		}

		.labelInline {
			clear:both;
		}
		.selectInline {
			float:left;
		}
		.dropdownDate 
		{
			  display:inline-block;
			  margin:0 10px 10px 0;
			  *display:inline;
			  zoom:1;
		} 

        /*popup*/ 
        fieldset { padding:0; border:0; margin-top:25px; }
        h1 { font-size: 1.2em; margin: .6em 0; }
        div#users-contain { width: 350px; margin: 20px 0; }
        div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }
        div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }
        .ui-dialog .ui-state-error { padding: .3em; }
        .validateTips { border: 1px solid transparent; padding: 0.3em; }
	</style>
 
   
}

@section featured {
	<section class="featured">
		<div class="content-wrapper">
			<hgroup class="title">
				<h1>@ViewBag.Title.</h1>
				
			</hgroup>
		</div>
	</section>
}

@section jquerylibrary{
	 <script src= "@Url.Content("~/Scripts/jquery-2.0.2.min.js")" type="text/javascript"></script>
}

@section scripts {
		<script src="@Url.Content("~/Scripts/knockout-2.2.1.js")" type="text/javascript"></script>
		@Scripts.Render("~/bundles/ajaxwrapper")
		@Scripts.Render("~/bundles/koMappings")
		@Scripts.Render("~/bundles/koBindings")
		<script src="@Url.Content("~/Scripts/jquery.maskedinput-1.3.1.min.js")" type="text/javascript"></script>
		<script src="@Url.Content("~/Scripts/jquery.filter_input.js")" type="text/javascript"></script>
		<script src="@Url.Content("~/Scripts/Application/ApplicationStatus.js")" type="text/javascript"></script>
		<script src="@Url.Content("~/Scripts/jquery.blockUI.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Content/FileUpload/tmpl.min.js")" type="text/javascript"></script> 	
        <script src="@Url.Content("~/Content/FileUpload/canvas-to-blob.min.js")" type="text/javascript"></script> 	
        <script src="@Url.Content("~/Content/FileUpload/load-image.min.js")" type="text/javascript"></script> 	   
        <script src="@Url.Content("~/Content/Bootstrap/bootstrap-image-gallery.min.js")" type="text/javascript"></script> 	
        <script src="@Url.Content("~/Content/Bootstrap/bootstrap.js")" type="text/javascript"></script>     
        <script src="@Url.Content("~/Content/FileUpload/jquery.iframe-transport.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Content/FileUpload/jquery.fileupload.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Content/FileUpload/jquery.fileupload-ip.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Content/FileUpload/jquery.fileupload-ui.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Content/FileUpload/locale.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Content/FileUpload/main.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Content/ambience/jquery.ambiance.js")"  type="text/javascript"></script>
	    <script src="@Url.Content("~/Scripts/Application/ReportHelper.js")"  type="text/javascript"></script>
        <script Id="summaryTemplate" type="text/html">
            <td>
				<span data-bind="text: ChannelName" />
			</td>
			<td>
				<span data-bind="text: BranchName" />
			</td>
			<td>
				<span data-bind="text: SourceCode" />
			</td>
			<td>
				<span data-bind="text: CardType" />
			</td>
			<td>
				<span data-bind="text: CardBrand" />
			</td>
			<td>
				<span data-bind="text: Status" />
			</td>
			<td>
				<span data-bind="text: DateStatus" />
			</td>
            <td>
                <span data-bind="text: ReferrorName" />
            </td>
            <td>
                <span data-bind="text: ReferrorCode" />
            </td>
			<td>
				<span data-bind="text: ApplicationCount" />
			</td>
	</script> 
	<script Id="detailTemplate" type="text/html">
            <td>
				<span data-bind="text: ChannelName" />
			</td>
			<td>
				<span data-bind="text: BranchName" />
			</td>
			<td>
				<span data-bind="text: SourceCode" />
			</td>
			<td>
				<span data-bind="text: ApplicationNo" />
			</td>
			<td>
				<span data-bind="text: ApplicantFullName" />
			</td>
			<td>
				<span data-bind="text: CardType" />
			</td>
			<td>
				<span data-bind="text: CardBrand" />
			</td>
			<td>
				<span data-bind="text: DateEncoded" />
			</td>
			<td>
                <div data-bind="visible: Status != 'Incomplete'"">
                   <span data-bind="text: Status"  />
                </div>
                <div  data-bind="click: $parent.showApplicationStatus, visible: Status == 'Incomplete'">
                    <a id="lnkAppStatus" href="#" title="Click to view details" data-bind="text: Status"></a>
                </div>
   			</td>
			<td>
				<span data-bind="text: DateStatus" />
			</td>
            <td>
                <span data-bind="text: AgingString" />
            </td>
            <td>
                <span data-bind="text: ReferrorName" />
            </td>
            <td>
                <span data-bind="text: ReferrorCode" />
            </td>
	</script>    
}
<div id="applicationStatusSearch" data-bind="visible: isUser" >
	<div class="columnBox2">
		<div>
			<label>Mode:</label>
			
				<div class="compactRadioGroup">
					<input type='radio' name='onlyOne' id="summary" data-bind='checked: isSummary' value=true /> 
					<label for="summary">Summary</label>
					<input type='radio'  name='onlyOne' id="detail" data-bind='checked: isSummary' value=false  />
					<label for="detail">Detail</label>
				</div>
			
		</div>

		<div>
			<label for="ddReport">Type:</label>	
			
			<div class="shortCombo">
				<select name="ddReport" data-bind="options: reportList,optionsText: 'Name', optionsValue: 'Code', value: selectedReport"></select>
			</div>

		</div>

		<div>
		   <label>Source Code:</label>
		   <input type="text" id="txtSourceCode" maxlength="13" data-bind="value: sourceCode" />
		
		</div>
        <div>
			 <label>Card Brand:</label>
			 <div class="shortCombo">
						<select data-bind="options: cardBrandList,
                            optionsText: 'CardBrandName',
                            optionsValue: 'CardBrandCode',
                            value: selectedCardBrand,
                            optionsCaption: '-- All --'" ></select>
			</div>
		</div>
		<div>
			<label>Name:</label>
			<input type="text" id="txtName" maxlength="50" data-bind="value: searchName" /> 
		</div>
        <div>
			<label>Channel:</label>
			<div class="shortCombo">
					<select id="ddChannel" data-bind="options: channelList, enable: enableChannel,
                        optionsText: 'Name',
                        optionsValue: 'Code',
                        value: selectedChannel,
                        optionsCaption: '-- All --'" ></select>
			</div>
		</div>
        <div>
			<label>District:</label>
			<div class="shortCombo">
					<select id="ddDistrict" data-bind="options: districtList, enable: enableDistrict,
                            optionsText: 'Name',
                            optionsValue: 'Code',
                            value: selectedDistrict,
                            optionsCaption: '-- All --'" ></select>
			</div>
		</div>	  
	</div>
    <div class="columnBox2">
		 <div></div>
		 @*<div>for steve this is the first field</div>*@
		 <div>
				<div class="daily">
					<label for="dailyDate" class="daily">Start:</label>
					<input type="text" name="dailyDate" class="daily" id="dtDaily" data-bind="value: dateFrom" />
				</div>
				<div class="weekly">
					<label for="startDate" class="weekly">Start:</label>
					<input id="dtWeeklyFrom" class="weekly" data-bind="datepicker: dtWeeklyFrom, datepickerOptions: {
															showOn: 'button',
															buttonImage: '../Content/images/calendar-icon.png',
															buttonImageOnly: true,
															beforeShowDay: allowedDays,
															onSelect: setWeeklyDate,
															maxDate: '-1d'
														}" />
				</div>
				<div class="others">
					<label for="othersDateFrom" class="others">Start:</label>
					<input name="othersDateFrom" id="dtOthersFrom" class="others" data-bind="datepicker: dtOthersFrom, datepickerOptions: {
																				showOn: 'button',
																				buttonImage: '../Content/images/calendar-icon.png',
																				buttonImageOnly: true,
																				maxDate: '-1d'
																			}" />
				</div> 
				<div class="monthly">
					<label>Month:</label>
					<div class="shortCombo">
						<select data-bind="options: monthsList,
										optionsText: 'Name',
										optionsValue: 'Code',
										value: selectedMonth" ></select>
					</div>
				</div>
				<div class="quarterly">
					<label>Quarter:</label>
					<div class="shortCombo">
						<select data-bind="options: quarterList,
										optionsText: 'Name',
										optionsValue: 'Code',
										value: selectedQuarter" ></select>
					</div>
				</div>
				<div class="yearly">
					<label>Year:</label>
					<div class="shortCombo">
						<select data-bind="options: yearsList,
										optionsText: 'Name',
										optionsValue: 'Code',
										value: selectedYear" ></select>
					</div>
				</div>
		</div>
		 <div>
			<label>Referror:</label>
			<input type="text" id="txtReferrorName" maxlength="20"  data-bind="value: referrorName" /> 
		</div>
        <div>
			 <label>Card Type:</label>
			 <div class="shortCombo">
						<select data-bind="options: cardTypeList,
                            optionsText: 'CardTypeName',
                            optionsValue: 'CardTypeCode',
                            value: selectedCardType,
                            optionsCaption: '-- All --'" ></select>
			</div>
		</div>
    	<div>
			 <label>Status:</label>
			 <div class="shortCombo">
						 <select data-bind="options: statusList,
				optionsText: 'StatusName',
				optionsValue: 'StatusCode',
				value: selectedStatus,
				optionsCaption: '-- All --'" ></select>
			</div>
		</div>  
        <div>
			 <label>Region:</label>
			 <div class="shortCombo">
					<select id="ddRegion" data-bind="options: regionList, enable: enableRegion,
                    optionsText: 'Name',
                    optionsValue: 'Code',
                    value: selectedRegion,
                    optionsCaption: '-- All --'" ></select>
			</div>
		</div>
        <div>
			<label>Branch:</label>
			<div class="shortCombo">
				    <select id="ddBranch" data-bind="options: branchList, enable: enableBranch,
                        optionsText: 'Name',
                        optionsValue: 'Code',
                        value: selectedBranch,
                        optionsCaption: '-- All --'" ></select>
			</div>	
		</div>	   
      
	 </div>

	<div class="columnBox2">
		<div></div>
		@*<div>for steve this is the second field</div>*@
		<div>
			<div class="weekly">
				<label for="endDate" class="weekly">End:</label>
				<input id="dtWeeklyTo" class="weekly" data-bind="enable: false, datepicker: dtWeeklyTo, datepickerOptions: {
																	showOn: 'button',
																	buttonImage: '../Content/images/calendar-icon.png',
																	buttonImageOnly: true,
																}" />
			</div>
			<div class="others">
				<label for="othersDateTo" class="others">End:</label>
				<input name="othersDateTo" id="dtOthersTo" class="others" data-bind="datepicker: dtOthersTo, datepickerOptions: {
																		showOn: 'button',
																		buttonImage: '../Content/images/calendar-icon.png',
																		buttonImageOnly: true,
																		maxDate: '-1d'
																	}" />
			</div>
			<div class="monthly">
					<label>Year:</label>
					<div class="shortCombo">
						<select data-bind="options: yearsList,
										optionsText: 'Name',
										optionsValue: 'Code',
										value: selectedYear" ></select>
					</div>
			</div>
			 <div class="quarterly">
					<label>Year:</label>
					<div class="shortCombo">
						<select data-bind="options: yearsList,
										optionsText: 'Name',
										optionsValue: 'Code',
										value: selectedYear" ></select>
					</div>
			</div>
		</div>
		<div>
			<label style="width: 120px">Application Number:</label>
			<input type="text" id="txtApplicationNumber" maxlength="20"  data-bind="value: applicationNo" /> 
		</div>
    </div>
</div>
<div class="clear"></div>
<button data-bind="click: searchAppStatus, visible:isUser" style="margin-top:10px; margin-bottom:10px">
					<strong>Search</strong>
</button>      
<div  class="float-left">
@* Knockout js and datatable approach  *@
<div id="demo">
	<div id="tblDetail">
			<table cellpadding="0" cellspacing="0" border="0" class="display" id="appStatuslisttableSummary"
					data-bind = "        dataTable: {
            dataSource: detailList,
            rowTemplate: 'detailTemplate',
            columns: ['ChannelName', 'BranchName','SourceCode', 'ApplicationNo', 'ApplicantFullName', 'CardType', 'CardBrand',
                      'DateEncoded', 'Status', 'DateStatus', 'AgingString', 'ReferrorName', 'ReferrorCode'],
							options: {
								bJQueryUI: true,
								bPaginate: true,
								bLengthChange: true,
								bFilter: true,
								bSort: true,
								bInfo: true,
								bAutoWidth: true,
								bProcessing: true,
								sPaginationType: 'full_numbers',
							    bDeferRender: true
							}
						}"> 
						<thead> 
						<tr class="gradeX">
                            <th>Channel</th>
							<th>Branch</th>
							<th>Source Code</th>
							<th>Application No</th>
							<th>Applicant</th>
							<th>Card Type</th>
							<th>Card Brand</th>			
							<th>Date Encoded</th>
							<th>Status</th>
							<th>Status Date</th>
                            <th>Aging</th>
                            <th>Referror</th>
                            <th>Ref Code</th>		
						</tr>
						</thead> 
						<tbody>
						</tbody>
				</table>
                <div style="float:left" data-bind="visible: isApplicantApproved">
                    <span style="font-size:small">
                   @* * If card was not received, please call customer service &#64; 688-1888 or email: service&#64;bankard.com *@
                       * If card was not received, please call customer service &#64; 688-1888 or email: 
                        <a href="mailto:service@bankard.com">service@bankard.com</a> 
                    </span>
                </div>
               <div style="float:right">
                   <label class="lblTotals">Total Count: </label><label data-bind="text: totalCountDetails" class="lblTotals"></label>
               </div>
		</div>
		<div id="tblSummary">
			<table cellpadding="0" cellspacing="0" border="0" class="display" id="appStatuslisttableDetail"
					data-bind = "dataTable: {
					dataSource: summaryList,
					rowTemplate: 'summaryTemplate',
					columns: ['ChannelName', 'BranchName','SourceCode', 'CardType', 'CardBrand', 'Status', 'DateStatus',
                              'ReferrorName', 'ReferrorCode', 'ApplicationCount', ],
					options: {
						bJQueryUI: true,
						bPaginate: true,
						bLengthChange: true,
						bFilter: true,
						bSort: true,
						bInfo: true,
						bAutoWidth: true,
                        bProcessing: true,
                        sPaginationType: 'full_numbers',
                        bDeferRender: true
					}
				}"> 
										<thead> 
										<tr class="gradeX">
                                            <th>Channel</th>
							                <th>Branch</th>
											<th>Source Code</th>
											<th>Card Type</th>
											<th>Card Brand </th>
											<th>Status</th>
											<th>Status Date</th>
                                            <th>Referror</th>
                                            <th>Ref Code</th>
										    <th>Count</th>
										</tr>
										</thead> 
										<tbody>
										</tbody>
										
			</table>
            <div style="float:right">
                   <label class="lblTotals">Total Count: </label><label data-bind="text: totalCountSummary" class="lblTotals"></label>
            </div>
		</div>
	</div>
    <div style="clear:both"></div>
	<br />
   @if (ViewBag.PageAccess != null) {
        if ((ViewBag.PageAccess as CRS.BusinessEntities.UserPageAccess).CanPrint)
        {
            <div align="center">
		        <button data-bind="click: getReportData, visible: showPrint" style="margin-top:10px; margin-bottom:10px">
		           <strong> Print </strong>
		        </button>
	        </div>
        }
   }
 </div>
<div style ="clear:both"></div>
<div id="dialog-form" title="Application Status" style="overflow:scroll">
  @*<p class="validateTips">Please fill up the necessary information.</p>*@
@*  <form>*@
  <fieldset>
    <div>
        <label for="statDesc" style="float:left">Description&nbsp;</label>
        <textarea name="statDesc" id="statDesc" data-bind="text: reasonNames, enable: false" style="height: 10em;width:100%" cols="5" rows="10"></textarea>
       </div>
    <div>
        <label for="statRem" style="float:left">
            <span style="font-size:smaller">To continue processing your application, please provide the necessary information listed above and/or
 	        attached the document/s required:
            </span>
        </label>            
        <textarea name="statRem" id="statRem" data-bind="value: reasonRemarks" style ="height: 10em;width:100%" cols="5" rows="10"></textarea>
         </div>  
  </fieldset>
 <!-- Shim to make HTML5 elements usable in older Internet Explorer versions -->
<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->


@*IN ORDER TO USE MVC ACTIONS AS HANDLERS OF AJAX CALLS, USE THE FORM DECLARATION BELOW. (THE ONE COMMENTED OUT)
IT IS NOT ADVISED SINCE WHEN USING MVC CONTROLLER TO HANDLE REQUESTS ONE CAN'T CONTROL THE maxMessageLength OF THE POST REQUEST
THIS CASTS THE FUNCTIONALITY OF UPLOADING LARGE FILES USELESS, UNLESS YOU SUCRIFICE THE SECURITY AND ALLOW LARGE 
POST MESSAGE SIZES SITE-WIDE.

IT IS BETTER TO USE HTTP HANDLER TO PROCESS UPLOAD REQUESTS UNTIL MVC FRAMEWORK PROVIDES WAYS TO SET maxMessageLength ON
PER ACTION BASIS *@
<form id="fileupload" action="/Upload/UploadHandler.ashx" method="POST" enctype="multipart/form-data">
        <!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload -->
        <div class="row fileupload-buttonbar">
            <div class="span7">
                <!-- The fileinput-button span is used to style the file input field as button -->
                <span class="btn btn-success fileinput-button">
                    <i class="icon-plus icon-white"></i>
                    <span>Add files...</span>
                    <input type="file" name="files[]" multiple>
                </span>
            @*    <button id="btnUploadAll" type="submit" class="btn btn-primary start">
                    <i class="icon-upload icon-white"></i>
                    <span>Start upload</span>
                </button>*@
              @*  <button data-bind="click: fileUploadSubmit" class="btn btn-primary start">
                    <i class="icon-upload icon-white"></i>
                    <span>Upload</span>
                </button>*@
                <button type="reset" class="btn btn-warning cancel">
                    <i class="icon-ban-circle icon-white"></i>
                    <span>Cancel upload</span>
                </button>
                <button type="button" class="btn btn-danger delete">
                    <i class="icon-trash icon-white"></i>
                    <span>Delete</span>
                </button>
                <input type="checkbox" class="toggle">
                <div id="divEmail" style="float:right">
                    <button class="btn btn-primary email" title="Click here to submit completed information and document/s." data-bind="click: sendEmail">
                            <i class="icon-upload icon-white"></i>
                            <span>Submit</span>
                    </button>
            </div>
            </div>
            <div class="span5">
                <!-- The global progress bar -->
                <div class="progress progress-success progress-striped active fade">
                    <div class="bar" style="width:0%;"></div>
                </div>
            </div>
        </div>
        <!-- The loading indicator is shown during image processing -->
        <div class="fileupload-loading"></div>
        <!-- The table listing the files available for upload/download -->
        <table id="tblUpload" class="table table-striped"><tbody class="files" data-toggle="modal-gallery" data-target="#modal-gallery"></tbody></table>
    </form>
  
    <!-- modal-gallery is the modal dialog used for the image gallery -->
    <div id="modal-gallery" class="modal modal-gallery hide fade">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">&times;</a>
            <h3 class="modal-title"></h3>
        </div>
        <div class="modal-body"><div class="modal-image"></div></div>
        <div class="modal-footer">
            <a class="btn btn-primary modal-next">
                <span>Next</span>
                <i class="icon-arrow-right icon-white"></i>
            </a>
            <a class="btn btn-info modal-prev">
                <i class="icon-arrow-left icon-white"></i>
                <span>Previous</span>
            </a>
            <a class="btn btn-success modal-play modal-slideshow" data-slideshow="5000">
                <i class="icon-play icon-white"></i>
                <span>Slideshow</span>
            </a>
            <a class="btn modal-download" target="_blank">
                <i class="icon-download"></i>
                <span>Download</span>
            </a>
        </div>
    </div>

<!-- The template to display files available for upload -->
<script id="template-upload" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}
    <tr class="template-upload fade">
        <td class="preview"><span class="fade"></span></td>
        <td class="name"><span>{%=file.name%}</span></td>
        <td class="size"><span>{%=o.formatFileSize(file.size)%}</span></td>
        {% if (file.error) { %}
            <td class="error" colspan="2"><span class="label label-important">{%=locale.fileupload.error%}</span> {%=locale.fileupload.errors[file.error] || file.error%}</td>
        {% } else if (o.files.valid && !i) { %}
            <td>
                <div class="progress progress-success progress-striped active"><div class="bar" style="width:0%;"></div></div>
            </td>
            <td class="start">{% if (!o.options.autoUpload) { %}
                <button class="btn btn-primary" style="visibility:hidden">
                    <i class="icon-upload icon-white"></i>
                    <span>{%=locale.fileupload.start%}</span>
                </button>
            {% } %}</td>
        {% } else { %}
            <td colspan="2"></td>
        {% } %}
        <td class="cancel">{% if (!i) { %}
            <button class="btn btn-warning">
                <i class="icon-ban-circle icon-white"></i>
                <span>{%=locale.fileupload.cancel%}</span>
            </button>
        {% } %}</td>
    </tr>
{% } %}
</script>
<!-- The template to display files available for download -->
<script id="template-download" type="text/x-tmpl">
{% for (var i=0, file; file=o.files[i]; i++) { %}
    <tr class="template-download fade">
        {% if (file.error) { %}
            <td></td>
            <td class="name"><span>{%=file.name%}</span></td>
            <td class="size"><span>{%=o.formatFileSize(file.size)%}</span></td>
            <td class="error" colspan="2"><span class="label label-important">{%=locale.fileupload.error%}</span> {%=locale.fileupload.errors[file.error] || file.error%}</td>
        {% } else { %}
            <td></td>
            <td class="name">
                <span>{%=file.name%}</span>
            </td>
            <td class="size"><span>{%=o.formatFileSize(file.size)%}</span></td>
            <td colspan="2"></td>
        {% } %}
        <td class="delete">
            <button id="btnTableDelete" class="btn btn-danger" data-type="{%=file.delete_type%}" data-url="{%=file.delete_url%}">
                <i class="icon-trash icon-white"></i>
                <span>{%=locale.fileupload.destroy%}</span>
            </button>
            <input type="checkbox" name="delete" value="1">
        </td>
    </tr>
{% } %}
</script>
@*  </form>*@
</div>
<div style ="clear:both"></div>
<div id="dialog-EmailSuccess" title="Email Notification">
   <p>
    <span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px 50px 0;"></span>
    <b><span data-bind="text: emailMessage"></span></b>
  </p>   
</div>
<div id="dialog-EmailFail" title="Email Notification">
   <p>
    <span class="ui-icon ui-icon-circle-close" style="float: left; margin: 0 7px 50px 0;"></span>
    <b><span data-bind="text: emailMessage"></span></b>
  </p>   
</div>




		
		