@model CRS.Models.ModalViewModel

@helper RenderAttributes(object htmlAttributes)
{
    if (htmlAttributes != null)
    {
        var attributeDictionary = new RouteValueDictionary(htmlAttributes);
        foreach(var attribute in attributeDictionary)
        {
            @Html.Raw(string.Format("{0}=\"{1}\" ", attribute.Key.Replace('_', '-'), attribute.Value))
        }
    }
}

<div id="@Model.Name" class="modal hide fade" tabindex="-1" role="dialog" aria-hidden="true" @RenderAttributes(Model.Attributes)>
    <div class="modal-header" @RenderAttributes(Model.HeaderAttributes)>
        @if(Model.HasCloseButton) 
        {
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        }
        <h4 @RenderAttributes(Model.TitleAttributes)>@Model.Title</h4>
    </div>
    <div class="modal-body" @RenderAttributes(Model.BodyAttributes)>
        @Model.Body
    </div>
    <div class="modal-footer" @RenderAttributes(Model.FooterAttributes)>
        @if (Model.HasDefaultButton)
        {
            <button class="btn btn-primary" @RenderAttributes(Model.DefaultButtonAttributes)>@Model.DefaultButtonText</button>    
        }
        
        @if(Model.HasCancelButton)
        {
            <button class="btn" data-dismiss="modal" aria-hidden="true" @RenderAttributes(Model.CancelButtonAttributes)>@Model.CancelButtonText</button>
        }
    </div>
</div>